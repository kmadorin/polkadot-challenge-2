(this["webpackJsonppolkadot-challenge-2"]=this["webpackJsonppolkadot-challenge-2"]||[]).push([[0],{1193:function(e){e.exports=JSON.parse('{"PROVIDER_SOCKET":"wss://dev-node.substrate.dev"}')},1199:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),c=n(142),o=n.n(c),u=n(1215),i=n(1212),l=n(1219),E=n(1216),s=n(1213),O=n(1220),p=(n(361),n(127)),f=n(23),b=n.n(f),d=n(60),S=n(36),C=n(352),N=n.n(C),R=n(539),m=n.n(R),_=n(353),j=n(354),y=n(289),v=n.n(y),h=n(543),T=n(1193),g=["REACT_APP_PROVIDER_SOCKET","REACT_APP_DEVELOPMENT_KEYRING"].reduce((function(e,t){return void 0!==Object({NODE_ENV:"production",PUBLIC_URL:"/polkadot-challenge-2",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0})[t]&&(e[t.slice(10)]=Object({NODE_ENV:"production",PUBLIC_URL:"/polkadot-challenge-2",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0})[t]),e}),{}),k=Object(S.a)(Object(S.a)(Object(S.a)({},h),T),g),P=m.a.parse(window.location.search).rpc||k.PROVIDER_SOCKET;console.log("Connected socket: ".concat(P));var I={socket:P,jsonrpc:Object(S.a)(Object(S.a)({},N.a),k.RPC),types:k.CUSTOM_TYPES,keyring:null,keyringState:null,api:null,apiError:null,apiState:null},D=function(e,t){switch(t.type){case"CONNECT_INIT":return Object(S.a)(Object(S.a)({},e),{},{apiState:"CONNECT_INIT"});case"CONNECT":return Object(S.a)(Object(S.a)({},e),{},{api:t.payload,apiState:"CONNECTING"});case"CONNECT_SUCCESS":return Object(S.a)(Object(S.a)({},e),{},{apiState:"READY"});case"CONNECT_ERROR":return Object(S.a)(Object(S.a)({},e),{},{apiState:"ERROR",apiError:t.payload});case"LOAD_KEYRING":return Object(S.a)(Object(S.a)({},e),{},{keyringState:"LOADING"});case"SET_KEYRING":return Object(S.a)(Object(S.a)({},e),{},{keyring:t.payload,keyringState:"READY"});case"KEYRING_ERROR":return Object(S.a)(Object(S.a)({},e),{},{keyring:null,keyringState:"ERROR"});default:throw new Error("Unknown type: ".concat(t.type))}},A=!1,K=r.a.createContext(),w=function(e){var t=Object(S.a)({},I);["socket","types"].forEach((function(n){t[n]="undefined"===typeof e[n]?t[n]:e[n]}));var n=Object(a.useReducer)(D,t),c=Object(p.a)(n,2),o=c[0],u=c[1];return function(e,t){var n=e.apiState,a=e.socket,r=e.jsonrpc,c=e.types;if(!n){t({type:"CONNECT_INIT"});var o=new _.WsProvider(a),u=new _.ApiPromise({provider:o,types:c,rpc:r});u.on("connected",(function(){t({type:"CONNECT",payload:u}),u.isReady.then((function(e){return t({type:"CONNECT_SUCCESS"})}))})),u.on("ready",(function(){return t({type:"CONNECT_SUCCESS"})})),u.on("error",(function(e){return t({type:"CONNECT_ERROR",payload:e})}))}}(o,u),function(e,t){var n=function(){var e=Object(d.a)(b.a.mark((function e(){var n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:"LOAD_KEYRING"}),e.prev=1,e.next=4,Object(j.web3Enable)(k.APP_NAME);case 4:return e.next=6,Object(j.web3Accounts)();case 6:n=(n=e.sent).map((function(e){var t=e.address,n=e.meta;return{address:t,meta:Object(S.a)(Object(S.a)({},n),{},{name:"".concat(n.name," (").concat(n.source,")")})}})),v.a.loadAll({isDevelopment:k.DEVELOPMENT_KEYRING},n),t({type:"SET_KEYRING",payload:v.a}),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(1),console.error(e.t0),t({type:"KEYRING_ERROR"});case 16:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(){return e.apply(this,arguments)}}();if(!e.keyringState){if(A)return t({type:"SET_KEYRING",payload:v.a});A=!0,n()}}(o,u),r.a.createElement(K.Provider,{value:o},e.children)},Y=function(){return Object(S.a)({},Object(a.useContext)(K))},G=function(e){var t=Y().api,n=Object(a.useState)(0),c=Object(p.a)(n,2),o=c[0],u=c[1],i=t.derive.chain.bestNumber;return Object(a.useEffect)((function(){var e=null;return i((function(e){u(e.toNumber())})).then((function(t){e=t})).catch(console.error),function(){return e&&e()}}),[i]),r.a.createElement("div",null,"Latest block: ",o)},x=n(1214),L=n(56),U=n(1217),W=function(e){var t=Y().api,n=Object(a.useState)(""),c=Object(p.a)(n,2),o=c[0],u=c[1],i=Object(a.useState)(""),l=Object(p.a)(i,2),s=l[0],O=l[1],f=Object(a.useState)(""),b=Object(p.a)(f,2),d=b[0],S=b[1];return r.a.createElement("div",null,r.a.createElement(x.a,{onSubmit:function(e){S(""),O(""),o.startsWith("0x")?t.rpc.chain.getBlock(o).then((function(e){return O(JSON.stringify(e,null,2))})).catch((function(e){return S(e)})):t.rpc.chain.getBlockHash(o).then((function(e){return t.rpc.chain.getBlock(e.toString())})).then((function(e){return O(JSON.stringify(e,null,2))})).catch((function(e){return S(e)}))}},r.a.createElement(L.a,null,r.a.createElement("input",{type:"search",placeholder:"Block hash or number",value:o,onChange:function(e){return u(e.target.value)}})),r.a.createElement(U.a,{type:"submit",primary:!0},"Find block")),s&&r.a.createElement("pre",null,s),d&&r.a.createElement(E.a,{negative:!0,compact:!0,floating:!0,header:"Wrong block hash or number"}))};function V(){var e,t,n=Y(),c=n.apiState,o=n.apiError,p=n.socket;if("ERROR"===c)return t=o,r.a.createElement(l.a,{centered:!0,columns:2,padded:!0},r.a.createElement(l.a.Column,null,r.a.createElement(E.a,{negative:!0,compact:!0,floating:!0,header:"Error Connecting to Substrate",content:"".concat(t)})));if("READY"!==c)return e="Connecting to Substrate",r.a.createElement(u.a,{active:!0},r.a.createElement(i.a,{size:"small"},e));var f=Object(a.createRef)();return r.a.createElement("div",{ref:f,style:{marginTop:"20px"}},r.a.createElement(s.a,null,r.a.createElement(O.a,{as:"h3"},"Connected to: \xa0 ",p),r.a.createElement(O.a,{as:"h1"},r.a.createElement(G,null)),r.a.createElement(W,null)))}function B(){return r.a.createElement(w,null,r.a.createElement(V,null))}o.a.render(r.a.createElement(B,null),document.getElementById("root"))},543:function(e){e.exports=JSON.parse('{"APP_NAME":"substrate-front-end-tutorial","DEVELOPMENT_KEYRING":true,"RPC":{}}')},563:function(e,t,n){e.exports=n(1199)},635:function(e,t){},687:function(e,t){},689:function(e,t){},699:function(e,t){},701:function(e,t){},727:function(e,t){},729:function(e,t){},730:function(e,t){},735:function(e,t){},737:function(e,t){},744:function(e,t){},746:function(e,t){},765:function(e,t){},777:function(e,t){},780:function(e,t){},800:function(e,t){}},[[563,1,2]]]);
//# sourceMappingURL=main.c4bc4766.chunk.js.map